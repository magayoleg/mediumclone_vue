(function(){"use strict";var e={3685:function(e,t,r){var i=r(9242),a=r(3396);const s={id:"app"};function o(e,t,r,i,o,l){const n=(0,a.up)("mcv-topbar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(n),(0,a.Wm)(c)])}var l=r(7139);const n={class:"navbar navbar-light"},c={class:"container"},u=(0,a.Uk)(" MediumClone "),d={class:"nav navbar-nav pull-xs-right"},m={class:"nav-item"},g=(0,a.Uk)("Home"),p={class:"nav-item"},v=(0,a._)("i",{class:"ion-compose"},null,-1),f=(0,a.Uk)("   New Article "),h={class:"nav-item"},S=(0,a._)("i",{class:"ion-gear-a"},null,-1),b=(0,a.Uk)("   Settings "),w={class:"nav-item"},_=["src"],U={class:"nav-item"},A=(0,a.Uk)(" Sign in "),F={class:"nav-item"},y=(0,a.Uk)(" Sign up ");function k(e,t,r,i,s,o){const k=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",n,[(0,a._)("div",c,[(0,a.Wm)(k,{class:"navbar-brand",to:{name:"globalFeed"}},{default:(0,a.w5)((()=>[u])),_:1}),(0,a._)("ul",d,[(0,a._)("li",m,[(0,a.Wm)(k,{class:"nav-link",to:{name:"globalFeed"}},{default:(0,a.w5)((()=>[g])),_:1})]),e.isLoggedIn?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("li",p,[(0,a.Wm)(k,{class:"nav-link",to:{name:"createArticle"}},{default:(0,a.w5)((()=>[v,f])),_:1})]),(0,a._)("li",h,[(0,a.Wm)(k,{class:"nav-link",to:{name:"settings"}},{default:(0,a.w5)((()=>[S,b])),_:1})]),(0,a._)("li",w,[(0,a.Wm)(k,{class:"nav-link",to:{name:"userProfile",params:{slug:e.currentUser.username}}},{default:(0,a.w5)((()=>[(0,a._)("img",{class:"user-pic",src:e.currentUser.image},null,8,_),(0,a.Uk)("   "+(0,l.zw)(e.currentUser.username),1)])),_:1},8,["to"])])],64)):(0,a.kq)("",!0),e.isAnonymous?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("li",U,[(0,a.Wm)(k,{class:"nav-link",to:{name:"login"}},{default:(0,a.w5)((()=>[A])),_:1})]),(0,a._)("li",F,[(0,a.Wm)(k,{class:"nav-link",to:{name:"register"}},{default:(0,a.w5)((()=>[y])),_:1})])],64)):(0,a.kq)("",!0)])])])}var P=r(65),L=r(6265),T=r.n(L);const M=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){return console.error("Error in getting data from localStorage",t),null}},C=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Error in setting data to localStorage",r)}};T().defaults.baseURL="https://conduit.productionready.io/api",T().interceptors.request.use((e=>{const t=M("accessToken"),r=t?`Token ${t}`:"";return e.headers.Authorization=r,e}));var E=T();const D=e=>E.post("/users",{user:e}),$=e=>E.post("/users/login",{user:e}),q=()=>E.get("/user"),W=e=>E.put("/user",{user:e}).then((e=>e.data.user));var x={register:D,login:$,getCurrentUser:q,updateCurrentUser:W};const O={isSubmitting:!1,isLoggedIn:null,isLoading:!1,currentUser:null,validationErrors:null},V={registerStart:"[auth] Register start",registerSuccess:"[auth] Register success",registerFailure:"[auth] Register failure",loginStart:"[auth] Login start",loginSuccess:"[auth] Login success",loginFailure:"[auth] Login failure",getCurrentUserStart:"[auth] Get current user start",getCurrentUserSuccess:"[auth] Get current user success",getCurrentUserFailure:"[auth] Get current user failure",updateCurrentUserStart:"[auth] Update current user start",updateCurrentUserSuccess:"[auth] Update current user success",updateCurrentUserFailure:"[auth] Update current user failure",logout:"[auth] logout"},j={register:"[auth] Register",login:"[auth] Login",getCurrentUser:"[auth] Get current user",updateCurrentUser:"[auth] Update current user",logout:"[auth] logout"},G={currentUser:"[auth] currentUser",isLoggedIn:"[auth] isLoggedIn",isAnonymous:"[auth] isAnonymous"},I={[G.currentUser]:e=>e.currentUser,[G.isLoggedIn]:e=>Boolean(e.isLoggedIn),[G.isAnonymous]:e=>!1===e.isLoggedIn},N={[V.registerStart](e){e.isSubmitting=!0,e.validationErrors=null},[V.registerSuccess](e,t){e.isSubmitting=!1,e.isLoggedIn=!0,e.currentUser=t},[V.registerFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[V.loginStart](e){e.isSubmitting=!0,e.validationErrors=null},[V.loginSuccess](e,t){e.isSubmitting=!1,e.isLoggedIn=!0,e.currentUser=t},[V.loginFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[V.getCurrentUserStart](e){e.isLoading=!0},[V.getCurrentUserSuccess](e,t){e.isLoading=!1,e.isLoggedIn=!0,e.currentUser=t},[V.getCurrentUserFailure](e){e.isLoading=!1,e.isLoggedIn=!1,e.currentUser=null},[V.updateCurrentUserStart](){},[V.updateCurrentUserSuccess](e,t){e.currentUser=t},[V.updateCurrentUserFailure](){},[V.logout](){O.currentUser=null,O.isLoggedIn=!1}},Z={[j.register](e,t){return new Promise((r=>{e.commit(V.registerStart),x.register(t).then((t=>{e.commit(V.registerSuccess,t.data.user),C("accessToken",t.data.user.token),r(t.data.user)})).catch((t=>{e.commit(V.registerFailure,t.response.data.errors)}))}))},[j.login](e,t){return new Promise((r=>{e.commit(V.loginStart),x.login(t).then((t=>{e.commit(V.loginSuccess,t.data.user),C("accessToken",t.data.user.token),r(t.data.user)})).catch((t=>{e.commit(V.loginFailure,t.response.data.errors)}))}))},[j.getCurrentUser](e){return new Promise((t=>{e.commit(V.getCurrentUserStart),x.getCurrentUser().then((r=>{e.commit(V.getCurrentUserSuccess,r.data.user),t(r.data.user)})).catch((()=>{e.commit(V.getCurrentUserFailure)}))}))},[j.updateCurrentUser](e,{currentUserInput:t}){return new Promise((r=>{e.commit(V.updateCurrentUserStart),x.updateCurrentUser(t).then((t=>{e.commit(V.updateCurrentUserSuccess,t),r(t)})).catch((t=>{e.commit(V.updateCurrentUserFailure,t.response.data.errors)}))}))},[j.logout](e){return new Promise((t=>{C("accessToken",""),e.commit(V.logout),t()}))}};var z={state:O,actions:Z,mutations:N,getters:I},Y={name:"McvTopbar",computed:{...(0,P.Se)({currentUser:G.currentUser,isLoggedIn:G.isLoggedIn,isAnonymous:G.isAnonymous})}},H=r(89);const R=(0,H.Z)(Y,[["render",k]]);var B=R,K={name:"App",components:{McvTopbar:B},mounted(){this.$store.dispatch(j.getCurrentUser)}};const J=(0,H.Z)(K,[["render",o]]);var Q=J,X=r(678);const ee={class:"home-page"},te={class:"container page"},re={class:"row"},ie={class:"col-md-9"},ae={class:"col-md-3"};function se(e,t,r,i,s,o){const l=(0,a.up)("mcv-banner"),n=(0,a.up)("mcv-feed-toggler"),c=(0,a.up)("mcv-feed"),u=(0,a.up)("mcv-popular-tags");return(0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(l),(0,a._)("div",te,[(0,a._)("div",re,[(0,a._)("div",ie,[(0,a.Wm)(n),(0,a.Wm)(c,{"api-url":s.apiUrl},null,8,["api-url"])]),(0,a._)("div",ae,[(0,a.Wm)(u)])])])])}const oe={key:2},le={class:"article-meta"},ne=["src"],ce={class:"info"},ue={class:"date"},de={class:"pull-xs-right"},me=(0,a._)("span",null,"Read more...",-1);function ge(e,t,r,i,s,o){const n=(0,a.up)("mcv-loading"),c=(0,a.up)("mcv-error-message"),u=(0,a.up)("router-link"),d=(0,a.up)("mcv-add-to-favorites"),m=(0,a.up)("mcv-tag-list"),g=(0,a.up)("mcv-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[e.isLoading?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),e.error?((0,a.wg)(),(0,a.j4)(c,{key:1})):(0,a.kq)("",!0),e.feed?((0,a.wg)(),(0,a.iD)("div",oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.feed.articles,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"article-preview",key:t},[(0,a._)("div",le,[(0,a.Wm)(u,{to:{name:"userProfile",params:{slug:e.author.username}}},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.author.image},null,8,ne)])),_:2},1032,["to"]),(0,a._)("div",ce,[(0,a.Wm)(u,{to:{name:"userProfile",params:{slug:e.author.username}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.author.username),1)])),_:2},1032,["to"]),(0,a._)("span",ue,(0,l.zw)(e.createdAt),1)]),(0,a._)("div",de,[(0,a.Wm)(d,{"is-favorited":e.favorited,"article-slug":e.slug,"favorites-count":e.favoritesCount},null,8,["is-favorited","article-slug","favorites-count"])])]),(0,a.Wm)(u,{to:{name:"article",params:{slug:e.slug}},class:"preview-link"},{default:(0,a.w5)((()=>[(0,a._)("h1",null,(0,l.zw)(e.title),1),(0,a._)("p",null,(0,l.zw)(e.description),1),me,(0,a.Wm)(m,{tags:e.tagList},null,8,["tags"])])),_:2},1032,["to"])])))),128)),(0,a.Wm)(g,{total:e.feed.articlesCount,limit:o.limit,url:o.baseUrl,"current-page":o.currentPage},null,8,["total","limit","url","current-page"])])):(0,a.kq)("",!0)])}var pe=r(4782);const ve=e=>E.get(e);var fe={getFeed:ve};const he={data:null,isLoading:!1,error:null},Se={getFeedStart:"[feed] Get feed start",getFeedSuccess:"[feed] Get feed success",getFeedFailure:"[feed] Get feed failure"},be={getFeed:"[feed] Get feed"},we={[Se.getFeedStart](e){e.isLoading=!0,e.data=null},[Se.getFeedSuccess](e,t){e.isLoading=!1,e.data=t},[Se.getFeedFailure](e){e.isLoading=!1}},_e={[be.getFeed](e,{apiUrl:t}){return new Promise((r=>{e.commit(Se.getFeedStart,t),fe.getFeed(t).then((t=>{e.commit(Se.getFeedSuccess,t.data),r(t.data)})).catch((()=>{e.commit(Se.getFeedFailure)}))}))}};var Ue={state:he,actions:_e,mutations:we};const Ae={class:"pagination"};function Fe(e,t,r,i,s,o){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("ul",Ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.pages,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,l.C_)(["page-item",{active:r.currentPage===e}])},[(0,a.Wm)(n,{to:{path:r.url,query:{page:e}},class:"page-link"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e),1)])),_:2},1032,["to"])],2)))),128))])}const ye=(e,t)=>[...Array(t).keys()].map((t=>t+e));var ke={name:"McvPagination",props:{total:{type:Number,required:!0},limit:{type:Number,required:!0},currentPage:{type:Number,required:!0},url:{type:String,required:!0}},computed:{pages(){const e=Math.ceil(this.total/this.limit);return ye(1,e)}}};const Pe=(0,H.Z)(ke,[["render",Fe]]);var Le=Pe;const Te=10;function Me(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",null," Loading... ")}var Ce={name:"McvLoading"};const Ee=(0,H.Z)(Ce,[["render",Me]]);var De=Ee;function $e(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",null,(0,l.zw)(r.message),1)}var qe={name:"McvErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}};const We=(0,H.Z)(qe,[["render",$e]]);var xe=We;const Oe={class:"tag-list"};function Ve(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("ul",Oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tags,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:"tag-default tag-pill tag-outline"},(0,l.zw)(e),1)))),128))])}var je={name:"McvTagList",props:{tags:{type:Array,required:!0}}};const Ge=(0,H.Z)(je,[["render",Ve]]);var Ie=Ge;const Ne=(0,a._)("i",{class:"ion-heart"},null,-1);function Ze(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>o.handleLike&&o.handleLike(...e)),class:(0,l.C_)({btn:!0,"btn-sm":!0,"btn-primary":s.isFavoritedOptimistic,"btn-outline-primary":!s.isFavoritedOptimistic})},[Ne,(0,a._)("span",null,"  "+(0,l.zw)(s.favoritesCountOptimistic),1)],2)}const ze=e=>`/articles/${e}/favorite`,Ye=e=>{const t=ze(e);return E.post(t,{}).then((e=>e.data.article))},He=e=>{const t=ze(e);return E["delete"](t).then((e=>e.data.article))};var Re={addToFavorites:Ye,removeFromFavorites:He};const Be={addToFavorites:"[addToFavorites] Add to favorites"},Ke={addToFavoritesStart:"[addToFavorites] Add to favorites start",addToFavoritesSuccess:"[addToFavorites] Add to favorites success",addToFavoritesFailure:"[addToFavorites] Add to favorites failure"},Je={[Ke.addToFavoritesStart](){},[Ke.addToFavoritesSuccess](){},[Ke.addToFavoritesFailure](){}},Qe={[Be.addToFavorites](e,{slug:t,isFavorited:r}){return new Promise((i=>{e.commit(Ke.addToFavoritesStart);const a=r?Re.removeFromFavorites(t):Re.addToFavorites(t);a.then((t=>{e.commit(Ke.addToFavoritesSuccess,t),i(t)})).catch((()=>{e.commit(Ke.addToFavoritesFailure())}))}))}};var Xe={actions:Qe,mutations:Je},et={name:"McvAddToFavorites",props:{isFavorited:{type:Boolean,required:!0},articleSlug:{type:String,required:!0},favoritesCount:{type:Number,required:!0}},data(){return{isFavoritedOptimistic:this.isFavorited,favoritesCountOptimistic:this.favoritesCount}},methods:{handleLike(){this.$store.dispatch(Be.addToFavorites,{slug:this.articleSlug,isFavorited:this.isFavoritedOptimistic}),this.isFavoritedOptimistic?this.favoritesCountOptimistic=this.favoritesCountOptimistic-1:this.favoritesCountOptimistic=this.favoritesCountOptimistic+1,this.isFavoritedOptimistic=!this.isFavoritedOptimistic}}};const tt=(0,H.Z)(et,[["render",Ze]]);var rt=tt,it={name:"McvFeed",components:{McvPagination:Le,McvLoading:De,McvErrorMessage:xe,McvTagList:Ie,McvAddToFavorites:rt},props:{apiUrl:{type:String,required:!0}},computed:{...(0,P.rn)({isLoading:e=>e.feed.isLoading,feed:e=>e.feed.data,error:e=>e.feed.error}),limit(){return Te},baseUrl(){return this.$route.path},currentPage(){return Number(this.$route.query.page||"1")},offset(){return this.currentPage*Te-Te}},watch:{currentPage(){this.fetchFeed()},apiUrl(){this.fetchFeed()}},mounted(){this.fetchFeed()},methods:{fetchFeed(){const e=(0,pe.parseUrl)(this.apiUrl),t=(0,pe.stringify)({limit:Te,offset:this.offset,...e.query}),r=`${e.url}?${t}`;this.$store.dispatch(be.getFeed,{apiUrl:r})}}};const at=(0,H.Z)(it,[["render",ge]]);var st=at;const ot={key:2,class:"sidebar"},lt=(0,a._)("p",null,"Popular Tags",-1),nt={class:"tag-list"};function ct(e,t,r,i,s,o){const n=(0,a.up)("mcv-loading"),c=(0,a.up)("mcv-error-message"),u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[e.isLoading?((0,a.wg)(),(0,a.j4)(n,{key:0})):(0,a.kq)("",!0),e.error?((0,a.wg)(),(0,a.j4)(c,{key:1})):(0,a.kq)("",!0),e.popularTags?((0,a.wg)(),(0,a.iD)("div",ot,[lt,(0,a._)("div",nt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.popularTags,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e,to:{name:"tag",params:{slug:e}},class:"tag-default tag-pill"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e),1)])),_:2},1032,["to"])))),128))])])):(0,a.kq)("",!0)])}const ut=()=>E.get("/tags").then((e=>e.data.tags));var dt={getPopularTags:ut};const mt={data:null,isLoading:!1,error:null},gt={getPopularTagsStart:"[popularTags] Get popular tags start",getPopularTagsSuccess:"[popularTags] Get popular tags success",getPopularTagsFailure:"[popularTags] Get popular tags failure"},pt={getPopularTags:"[popularTags] Get popular tags"},vt={[gt.getPopularTagsStart](e){e.isLoading=!0,e.data=null},[gt.getPopularTagsSuccess](e,t){e.isLoading=!1,e.data=t},[gt.getPopularTagsFailure](e){e.isLoading=!1}},ft={[pt.getPopularTags](e){return new Promise((t=>{e.commit(gt.getPopularTagsStart),dt.getPopularTags().then((r=>{e.commit(gt.getPopularTagsSuccess,r),t(r)})).catch((()=>{e.commit(gt.getPopularTagsFailure)}))}))}};var ht={state:mt,actions:ft,mutations:vt},St={name:"McvPopularTags",components:{McvLoading:De,McvErrorMessage:xe},computed:{...(0,P.rn)({isLoading:e=>e.popularTags.isLoading,popularTags:e=>e.popularTags.data,error:e=>e.popularTags.error})},mounted(){this.$store.dispatch(pt.getPopularTags)}};const bt=(0,H.Z)(St,[["render",ct]]);var wt=bt;const _t={class:"banner"},Ut=(0,a._)("div",{class:"container"},[(0,a._)("h1",null,"Medium clone"),(0,a._)("p",null,"A place to share knowledge")],-1),At=[Ut];function Ft(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("div",_t,At)}var yt={name:"McvBanner"};const kt=(0,H.Z)(yt,[["render",Ft]]);var Pt=kt;const Lt={class:"feed-toggle"},Tt={class:"nav nav-pills outline-active"},Mt={key:0,class:"nav-item"},Ct=(0,a.Uk)(" Your feed "),Et={class:"nav-item"},Dt=(0,a.Uk)(" Global feed "),$t={key:1,class:"nav-item"},qt=(0,a._)("i",{class:"ion-pound"},null,-1);function Wt(e,t,r,i,s,o){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Lt,[(0,a._)("ul",Tt,[e.isLoggedIn?((0,a.wg)(),(0,a.iD)("li",Mt,[(0,a.Wm)(n,{to:{name:"yourFeed"},class:(0,l.C_)(["nav-link",{active:"yourFeed"===o.routeName}])},{default:(0,a.w5)((()=>[Ct])),_:1},8,["class"])])):(0,a.kq)("",!0),(0,a._)("li",Et,[(0,a.Wm)(n,{to:{name:"globalFeed"},class:(0,l.C_)(["nav-link",{active:"globalFeed"===o.routeName}])},{default:(0,a.w5)((()=>[Dt])),_:1},8,["class"])]),r.tagName?((0,a.wg)(),(0,a.iD)("li",$t,[(0,a.Wm)(n,{to:{name:"tag"},class:(0,l.C_)(["nav-link",{active:"tag"===o.routeName}])},{default:(0,a.w5)((()=>[qt,(0,a.Uk)(" "+(0,l.zw)(r.tagName),1)])),_:1},8,["class"])])):(0,a.kq)("",!0)])])}var xt={name:"McvFeedToggler",props:{tagName:{type:String,required:!1}},computed:{...(0,P.Se)({isLoggedIn:G.isLoggedIn}),routeName(){return this.$route.name}}};const Ot=(0,H.Z)(xt,[["render",Wt]]);var Vt=Ot,jt={name:"McvGlobalFeed",components:{McvFeed:st,McvPopularTags:wt,McvBanner:Pt,McvFeedToggler:Vt},data(){return{apiUrl:"/articles"}}};const Gt=(0,H.Z)(jt,[["render",se]]);var It=Gt;const Nt={class:"home-page"},Zt={class:"container page"},zt={class:"row"},Yt={class:"col-md-9"},Ht={class:"col-md-3"};function Rt(e,t,r,i,s,o){const l=(0,a.up)("mcv-banner"),n=(0,a.up)("mcv-feed-toggler"),c=(0,a.up)("mcv-feed"),u=(0,a.up)("mcv-popular-tags");return(0,a.wg)(),(0,a.iD)("div",Nt,[(0,a.Wm)(l),(0,a._)("div",Zt,[(0,a._)("div",zt,[(0,a._)("div",Yt,[(0,a.Wm)(n),(0,a.Wm)(c,{"api-url":s.apiUrl},null,8,["api-url"])]),(0,a._)("div",Ht,[(0,a.Wm)(u)])])])])}var Bt={name:"McvYourFeed",components:{McvFeed:st,McvPopularTags:wt,McvBanner:Pt,McvFeedToggler:Vt},data(){return{apiUrl:"/articles/feed"}}};const Kt=(0,H.Z)(Bt,[["render",Rt]]);var Jt=Kt;const Qt={class:"home-page"},Xt={class:"container page"},er={class:"row"},tr={class:"col-md-9"},rr={class:"col-md-3"};function ir(e,t,r,i,s,o){const l=(0,a.up)("mcv-banner"),n=(0,a.up)("mcv-feed-toggler"),c=(0,a.up)("mcv-feed"),u=(0,a.up)("mcv-popular-tags");return(0,a.wg)(),(0,a.iD)("div",Qt,[(0,a.Wm)(l),(0,a._)("div",Xt,[(0,a._)("div",er,[(0,a._)("div",tr,[(0,a.Wm)(n,{"tag-name":o.tagName},null,8,["tag-name"]),(0,a.Wm)(c,{"api-url":o.apiUrl},null,8,["api-url"])]),(0,a._)("div",rr,[(0,a.Wm)(u)])])])])}var ar={name:"McvYourFeed",components:{McvFeed:st,McvPopularTags:wt,McvBanner:Pt,McvFeedToggler:Vt},computed:{tagName(){return this.$route.params.slug},apiUrl(){return`/articles?tag=${this.tagName}`}}};const sr=(0,H.Z)(ar,[["render",ir]]);var or=sr;const lr={class:"auth-page"},nr={class:"container page"},cr={class:"row"},ur={class:"col-md-6 offset-md-3 col-xs-12"},dr=(0,a._)("h1",{class:"text-xs-center"},"Sign up",-1),mr={class:"text-xs-center"},gr=(0,a.Uk)(" Need an account? "),pr={class:"form-group"},vr={class:"form-group"},fr={class:"form-group"},hr=["disabled"];function Sr(e,t,r,s,o,l){const n=(0,a.up)("router-link"),c=(0,a.up)("mcv-validation-errors");return(0,a.wg)(),(0,a.iD)("div",lr,[(0,a._)("div",nr,[(0,a._)("div",cr,[(0,a._)("div",ur,[dr,(0,a._)("p",mr,[(0,a.Wm)(n,{to:{name:"login"}},{default:(0,a.w5)((()=>[gr])),_:1})]),e.validationErrors?((0,a.wg)(),(0,a.j4)(c,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,i.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,a._)("fieldset",pr,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e)},null,512),[[i.nr,o.username]])]),(0,a._)("fieldset",vr,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e)},null,512),[[i.nr,o.email]])]),(0,a._)("fieldset",fr,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e)},null,512),[[i.nr,o.password]])]),(0,a._)("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Sign Up ",8,hr)],32)])])])])}const br={class:"error-messages"};function wr(e,t,r,i,s,o){return(0,a.wg)(),(0,a.iD)("ul",br,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.errorMessages,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},(0,l.zw)(e),1)))),128))])}var _r={name:"McvValidationErrors",props:{validationErrors:{type:Object,required:!0}},computed:{errorMessages(){return Object.keys(this.validationErrors).map((e=>{const t=this.validationErrors[e].join(", ");return`${e} ${t}`}))}}};const Ur=(0,H.Z)(_r,[["render",wr]]);var Ar=Ur,Fr={name:"McvRegister",components:{McvValidationErrors:Ar},data(){return{email:"",password:"",username:""}},computed:{...(0,P.rn)({isSubmitting:e=>e.auth.isSubmitting,validationErrors:e=>e.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(j.register,{email:this.email,username:this.username,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}};const yr=(0,H.Z)(Fr,[["render",Sr]]);var kr=yr;const Pr={class:"auth-page"},Lr={class:"container page"},Tr={class:"row"},Mr={class:"col-md-6 offset-md-3 col-xs-12"},Cr=(0,a._)("h1",{class:"text-xs-center"},"Sign in",-1),Er={class:"text-xs-center"},Dr=(0,a.Uk)(" Have an account? "),$r={class:"form-group"},qr={class:"form-group"},Wr=["disabled"];function xr(e,t,r,s,o,l){const n=(0,a.up)("router-link"),c=(0,a.up)("mcv-validation-errors");return(0,a.wg)(),(0,a.iD)("div",Pr,[(0,a._)("div",Lr,[(0,a._)("div",Tr,[(0,a._)("div",Mr,[Cr,(0,a._)("p",Er,[(0,a.Wm)(n,{to:{name:"register"}},{default:(0,a.w5)((()=>[Dr])),_:1})]),e.validationErrors?((0,a.wg)(),(0,a.j4)(c,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,a._)("fieldset",$r,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-lg",type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[i.nr,o.email]])]),(0,a._)("fieldset",qr,[(0,a.wy)((0,a._)("input",{class:"form-control form-control-lg",type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[i.nr,o.password]])]),(0,a._)("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Sign In ",8,Wr)],32)])])])])}var Or={name:"McvLogin",components:{McvValidationErrors:Ar},data(){return{email:"",password:""}},computed:{...(0,P.rn)({isSubmitting:e=>e.auth.isSubmitting,validationErrors:e=>e.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(j.login,{email:this.email,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}};const Vr=(0,H.Z)(Or,[["render",xr]]);var jr=Vr;const Gr={class:"article-page"},Ir={class:"banner"},Nr={key:0,class:"container"},Zr={class:"article-meta"},zr=["src"],Yr={class:"info"},Hr={class:"date"},Rr={key:0},Br=(0,a._)("i",{class:"ion-edit"},null,-1),Kr=(0,a.Uk)(" Edit Article "),Jr=(0,a._)("i",{class:"ion-trash-a"},null,-1),Qr=(0,a.Uk)(" Delete Article "),Xr=[Jr,Qr],ei={class:"container page"},ti={key:2,class:"row article-content"},ri={class:"col-xs-12"};function ii(e,t,r,i,s,o){const n=(0,a.up)("router-link"),c=(0,a.up)("mcv-loading"),u=(0,a.up)("mcv-error-message"),d=(0,a.up)("mcv-tag-list");return(0,a.wg)(),(0,a.iD)("div",Gr,[(0,a._)("div",Ir,[e.article?((0,a.wg)(),(0,a.iD)("div",Nr,[(0,a._)("h1",null,(0,l.zw)(e.article.title),1),(0,a._)("div",Zr,[(0,a.Wm)(n,{to:{name:"userProfile",params:{slug:e.article.author.username}}},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.article.author.image},null,8,zr)])),_:1},8,["to"]),(0,a._)("div",Yr,[(0,a.Wm)(n,{to:{name:"userProfile",params:{slug:e.article.author.username}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.article.author.username),1)])),_:1},8,["to"]),(0,a._)("span",Hr,(0,l.zw)(e.article.createdAt),1)]),o.isAuthor?((0,a.wg)(),(0,a.iD)("span",Rr,[(0,a.Wm)(n,{class:"btn btn-outline-secondary btn-sm",to:{name:"editArticle",params:{slug:e.article.slug}}},{default:(0,a.w5)((()=>[Br,Kr])),_:1},8,["to"]),(0,a._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...e)=>o.deleteArticle&&o.deleteArticle(...e))},Xr)])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)]),(0,a._)("div",ei,[e.isLoading?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0),e.isLoading?((0,a.wg)(),(0,a.j4)(u,{key:1,message:e.error},null,8,["message"])):(0,a.kq)("",!0),e.article?((0,a.wg)(),(0,a.iD)("div",ti,[(0,a._)("div",ri,[(0,a._)("div",null,[(0,a._)("p",null,(0,l.zw)(e.article.body),1)]),(0,a.Wm)(d,{tags:e.article.tagList},null,8,["tags"])])])):(0,a.kq)("",!0)])])}const ai=e=>E.get(`/articles/${e}`).then((e=>e.data.article)),si=e=>E.post("/articles",{article:e}).then((e=>e.data.article)),oi=(e,t)=>E.put(`/articles/${e}`,{article:t}).then((e=>e.data.article)),li=e=>E["delete"](`/articles/${e}`);var ni={getArticle:ai,deleteArticle:li,createArticle:si,updateArticle:oi};const ci={data:null,isLoading:!1,error:null},ui={getArticleStart:"[article] Get article start",getArticleSuccess:"[article] Get article success",getArticleFailure:"[article] Get article failure",deleteArticleStart:"[article] Delete article start",deleteArticleSuccess:"[article] Delete article success",deleteArticleFailure:"[article] Delete article failure"},di={getArticle:"[article] Get article",deleteArticle:"[article] Delete article"},mi={[ui.getArticleStart](e){e.isLoading=!0,e.data=null},[ui.getArticleSuccess](e,t){e.isLoading=!1,e.data=t},[ui.getArticleFailure](e){e.isLoading=!1},[ui.deleteArticleStart](){},[ui.deleteArticleSuccess](){},[ui.deleteArticleFailure](){}},gi={[di.getArticle](e,{slug:t}){return new Promise((r=>{e.commit(ui.getArticleStart),ni.getArticle(t).then((t=>{e.commit(ui.getArticleSuccess,t),r(t)})).catch((()=>{e.commit(ui.getArticleFailure)}))}))},[di.deleteArticle](e,{slug:t}){return new Promise((r=>{e.commit(ui.deleteArticleStart),ni.deleteArticle(t).then((()=>{e.commit(ui.deleteArticleSuccess),r()})).catch((()=>{e.commit(ui.deleteArticleFailure)}))}))}};var pi={state:ci,actions:gi,mutations:mi},vi={name:"McvArticle",components:{McvLoading:De,McvErrorMessage:xe,McvTagList:Ie},computed:{...(0,P.rn)({isLoading:e=>e.article.isLoading,article:e=>e.article.data,error:e=>e.article.error}),...(0,P.Se)({currentUser:G.currentUser}),isAuthor(){return!(!this.currentUser||!this.article)&&this.currentUser.username===this.article.author.username}},mounted(){this.$store.dispatch(di.getArticle,{slug:this.$route.params.slug})},methods:{deleteArticle(){this.$store.dispatch(di.deleteArticle,{slug:this.$route.params.slug}).then((()=>{this.$router.push({name:"globalFeed"})}))}}};const fi=(0,H.Z)(vi,[["render",ii]]);var hi=fi;function Si(e,t,r,i,s,o){const l=(0,a.up)("mcv-article-form");return(0,a.wg)(),(0,a.j4)(l,{initialValues:s.initialValues,errors:e.validationErrors,isSubmitting:e.isSubmitting,onArticleSubmit:o.onSubmit},null,8,["initialValues","errors","isSubmitting","onArticleSubmit"])}const bi={class:"editor-page"},wi={class:"container page"},_i={class:"row"},Ui={class:"col-md-10 offset-md-1 col-xs-12"},Ai={class:"form-group"},Fi={class:"form-group"},yi={class:"form-group"},ki={class:"form-group"},Pi={class:"form-group"},Li=["disabled"];function Ti(e,t,r,s,o,l){const n=(0,a.up)("mcv-validation-errors");return(0,a.wg)(),(0,a.iD)("div",bi,[(0,a._)("div",wi,[(0,a._)("div",_i,[(0,a._)("div",Ui,[r.errors?((0,a.wg)(),(0,a.j4)(n,{key:0,"validation-errors":r.errors},null,8,["validation-errors"])):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,i.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,a._)("fieldset",null,[(0,a._)("fieldset",Ai,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Article title","onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e)},null,512),[[i.nr,o.title]])]),(0,a._)("fieldset",Fi,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Description","onUpdate:modelValue":t[1]||(t[1]=e=>o.description=e)},null,512),[[i.nr,o.description]])]),(0,a._)("fieldset",yi,[(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg",placeholder:"What is this article about?","onUpdate:modelValue":t[2]||(t[2]=e=>o.body=e)},null,512),[[i.nr,o.body]])]),(0,a._)("fieldset",ki,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg",placeholder:"Enter tags","onUpdate:modelValue":t[3]||(t[3]=e=>o.tagList=e)},null,512),[[i.nr,o.tagList]])]),(0,a._)("fieldset",Pi,[(0,a._)("button",{type:"submit",class:"btn btn-lg pull-xs-right btn-primary",disabled:r.isSubmitting}," Publish Article ",8,Li)])])],32)])])])])}var Mi={name:"McvArticleForm",props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},components:{McvValidationErrors:Ar},data(){return{title:this.initialValues.title,description:this.initialValues.description,body:this.initialValues.body,tagList:this.initialValues.tagList.join(" ")}},methods:{onSubmit(){const e={title:this.title,description:this.description,body:this.body,tagList:this.tagList.split(" ")};this.$emit("articleSubmit",e)}}};const Ci=(0,H.Z)(Mi,[["render",Ti]]);var Ei=Ci;const Di={isSubmitting:!1,validationErrors:null},$i={createArticleStart:"[createArticle] Create article start",createArticleSuccess:"[createArticle] Create article success",createArticleFailure:"[createArticle] Create article failure"},qi={createArticle:"[createArticle] Create article"},Wi={[$i.createArticleStart](e){e.isSubmitting=!0},[$i.createArticleSuccess](e){e.isSubmitting=!1},[$i.createArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}},xi={[qi.createArticle](e,{articleInput:t}){return new Promise((r=>{e.commit($i.createArticleStart),ni.createArticle(t).then((t=>{e.commit($i.createArticleSuccess,t),r(t)})).catch((t=>{e.commit($i.createArticleFailure,t.response.data.errors)}))}))}};var Oi={state:Di,actions:xi,mutations:Wi},Vi={name:"McvCreateArticle",components:{McvArticleForm:Ei},data(){return{initialValues:{title:"",description:"",body:"",tagList:[]}}},computed:{...(0,P.rn)({isSubmitting:e=>e.createArticle.isSubmitting,validationErrors:e=>e.createArticle.validationErrors})},methods:{onSubmit(e){this.$store.dispatch(qi.createArticle,{articleInput:e}).then((e=>{this.$router.push({name:"article",params:{slug:e.slug}})}))}}};const ji=(0,H.Z)(Vi,[["render",Si]]);var Gi=ji;function Ii(e,t,r,i,s,o){const l=(0,a.up)("mcv-loading"),n=(0,a.up)("mcv-article-form");return(0,a.wg)(),(0,a.iD)("div",null,[e.isLoading?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),o.initialValues?((0,a.wg)(),(0,a.j4)(n,{key:1,initialValues:o.initialValues,errors:e.validationErrors,isSubmitting:e.isSubmitting,onArticleSubmit:o.onSubmit},null,8,["initialValues","errors","isSubmitting","onArticleSubmit"])):(0,a.kq)("",!0)])}const Ni={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},Zi={updateArticleStart:"[editArticle] Update article start",updateArticleSuccess:"[editArticle] Update article success",updateArticleFailure:"[editArticle] Update article failure",getArticleStart:"[editArticle] Get article start",getArticleSuccess:"[editArticle] Get article success",getArticleFailure:"[editArticle] Get article failure"},zi={updateArticle:"[editArticle] Create article",getArticle:"[editArticle] Get article"},Yi={[Zi.updateArticleStart](e){e.isSubmitting=!0},[Zi.updateArticleSuccess](e){e.isSubmitting=!1},[Zi.updateArticleFailure](e,t){e.isSubmitting=!1,e.validationErrors=t},[Zi.getArticleStart](e){e.isLoading=!0},[Zi.getArticleSuccess](e,t){e.isLoading=!1,e.article=t},[Zi.getArticleFailure](e){e.isLoading=!1}},Hi={[zi.updateArticle](e,{slug:t,articleInput:r}){return new Promise((i=>{e.commit(Zi.updateArticleStart),ni.updateArticle(t,r).then((t=>{e.commit(Zi.updateArticleSuccess,t),i(t)})).catch((t=>{e.commit(Zi.updateArticleFailure,t.response.data.errors)}))}))},[zi.getArticle](e,{slug:t}){return new Promise((r=>{e.commit(Zi.getArticleStart),ni.getArticle(t).then((t=>{e.commit(Zi.getArticleSuccess,t),r(t)})).catch((()=>{e.commit(Zi.getArticleFailure)}))}))}};var Ri={state:Ni,actions:Hi,mutations:Yi},Bi={name:"McvEditArticle",components:{McvArticleForm:Ei,McvLoading:De},computed:{...(0,P.rn)({isLoading:e=>e.editArticle.isLoading,article:e=>e.editArticle.article,isSubmitting:e=>e.editArticle.isSubmitting,validationErrors:e=>e.editArticle.validationErrors}),initialValues(){return this.article?{title:this.article.title,description:this.article.description,body:this.article.body,tagList:this.article.tagList}:null}},mounted(){this.$store.dispatch(zi.getArticle,{slug:this.$route.params.slug})},methods:{onSubmit(e){const t=this.$route.params.slug;this.$store.dispatch(zi.updateArticle,{articleInput:e,slug:t}).then((e=>{this.$router.push({name:"article",params:{slug:e.slug}})}))}}};const Ki=(0,H.Z)(Bi,[["render",Ii]]);var Ji=Ki;const Qi={key:0,class:"settings-page"},Xi={class:"container page"},ea={class:"row"},ta={class:"col-md-6 offset-md-3 col-xs-12"},ra=(0,a._)("h1",{class:"text-xs-center"},"Settings",-1),ia={class:"form-group"},aa={class:"form-group"},sa={class:"form-group"},oa={class:"form-group"},la={class:"form-group"},na=["disabled"],ca=(0,a._)("hr",null,null,-1);function ua(e,t,r,s,o,l){const n=(0,a.up)("mcv-validation-errors");return e.currentUser?((0,a.wg)(),(0,a.iD)("div",Qi,[(0,a._)("div",Xi,[(0,a._)("div",ea,[(0,a._)("div",ta,[ra,e.validationErrors?((0,a.wg)(),(0,a.j4)(n,{key:0,"validation-errors":e.validationErrors},null,8,["validation-errors"])):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,i.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"]))},[(0,a._)("fieldset",null,[(0,a._)("fieldset",ia,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.image=e),placeholder:"URL of profile image"},null,512),[[i.nr,l.form.image]])]),(0,a._)("fieldset",aa,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[1]||(t[1]=e=>l.form.username=e),placeholder:"Username"},null,512),[[i.nr,l.form.username]])]),(0,a._)("fieldset",sa,[(0,a.wy)((0,a._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":t[2]||(t[2]=e=>l.form.bio=e),placeholder:"Short bio about you"},null,512),[[i.nr,l.form.bio]])]),(0,a._)("fieldset",oa,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":t[3]||(t[3]=e=>l.form.email=e),placeholder:"Email"},null,512),[[i.nr,l.form.email]])]),(0,a._)("fieldset",la,[(0,a.wy)((0,a._)("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":t[4]||(t[4]=e=>l.form.password=e),placeholder:"New password"},null,512),[[i.nr,l.form.password]])]),(0,a._)("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:e.isSubmitting}," Update settings ",8,na)])],32),ca,(0,a._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>l.logout&&l.logout(...e)),type:"text"}," Or cick here to logout ")])])])])):(0,a.kq)("",!0)}var da={name:"McvSettings",components:{McvValidationErrors:Ar},computed:{...(0,P.rn)({isSubmitting:e=>e.settings.isSubmitting,validationErrors:e=>e.settings.validationErrors}),...(0,P.Se)({currentUser:G.currentUser}),form(){return this.currentUser?{username:this.currentUser.username,bio:this.currentUser.bio,image:this.currentUser.image,email:this.currentUser.email,password:""}:{username:"",bio:"",image:"",email:"",password:""}}},methods:{onSubmit(){this.$store.dispatch(j.updateCurrentUser,{currentUserInput:this.form})},logout(){this.$store.dispatch(j.logout).then((()=>{this.$router.push({name:"globalFeed"})}))}}};const ma=(0,H.Z)(da,[["render",ua]]);var ga=ma;const pa={key:0,class:"profile-page"},va={class:"user-info"},fa={class:"container"},ha={class:"row"},Sa={class:"col-xs-12 col-md-10 offset-md-1"},ba=["src"],wa=(0,a.Uk)(" FOLLOW USER BUTTON "),_a=(0,a.Uk)(" Edit Profile Settings "),Ua={class:"container"},Aa={class:"row"},Fa={class:"col-xs-12 col-md-10 offset-md-1"},ya={class:"article-toggle"},ka={class:"nav nav-pills outline-active"},Pa={class:"nav-item"},La=(0,a.Uk)(" My Posts "),Ta={class:"nav-item"},Ma=(0,a.Uk)(" Favorites Posts ");function Ca(e,t,r,i,s,o){const n=(0,a.up)("router-link"),c=(0,a.up)("mcv-feed");return e.userProfile?((0,a.wg)(),(0,a.iD)("div",pa,[(0,a._)("div",va,[(0,a._)("div",fa,[(0,a._)("div",ha,[(0,a._)("div",Sa,[(0,a._)("img",{class:"user-img",src:e.userProfile.image},null,8,ba),(0,a._)("h4",null,(0,l.zw)(e.userProfile.username),1),(0,a._)("p",null,(0,l.zw)(e.userProfile.bio),1),(0,a._)("div",null,[wa,o.isCurrentUserProfile?((0,a.wg)(),(0,a.j4)(n,{key:0,class:"btn btn-sm btn-outline-secondary action-btn",to:{name:"settings"}},{default:(0,a.w5)((()=>[_a])),_:1})):(0,a.kq)("",!0)])])])])]),(0,a._)("div",Ua,[(0,a._)("div",Aa,[(0,a._)("div",Fa,[(0,a._)("div",ya,[(0,a._)("ul",ka,[(0,a._)("li",Pa,[(0,a.Wm)(n,{to:{name:"userProfile",params:{slug:e.userProfile.username}},class:(0,l.C_)(["nav-link",{active:"userProfile"===o.routeName}])},{default:(0,a.w5)((()=>[La])),_:1},8,["to","class"])]),(0,a._)("li",Ta,[(0,a.Wm)(n,{to:{name:"userProfileFavorites",params:{slug:e.userProfile.username}},class:(0,l.C_)(["nav-link",{active:"userProfileFavorites"===o.routeName}])},{default:(0,a.w5)((()=>[Ma])),_:1},8,["to","class"])])])]),(0,a.Wm)(c,{"api-url":o.apiUrl},null,8,["api-url"])])])])])):(0,a.kq)("",!0)}r(6699);const Ea=e=>E.get(`/profiles/${e}`).then((e=>e.data.profile));var Da={getUserProfile:Ea};const $a={data:null,isLoading:!1,error:null},qa={getUserProfileStart:"[userProfile] Get user profile start",getUserProfileSuccess:"[userProfile] Get user profile success",getUserProfileFailure:"[userProfile] Get user profile failure"},Wa={getUserProfile:"[userProfile] Get user profile"},xa={[qa.getUserProfileStart](e){e.isLoading=!0,e.data=null},[qa.getUserProfileSuccess](e,t){e.isLoading=!1,e.data=t},[qa.getUserProfileFailure](e){e.isLoading=!1}},Oa={[Wa.getUserProfile](e,{slug:t}){return new Promise((r=>{e.commit(qa.getUserProfileStart),Da.getUserProfile(t).then((t=>{e.commit(qa.getUserProfileSuccess,t),r(t)})).catch((()=>{e.commit(qa.getUserProfileFailure)}))}))}};var Va={state:$a,actions:Oa,mutations:xa},ja={name:"McvUserProfile",components:{McvFeed:st},computed:{...(0,P.rn)({isLoading:e=>e.userProfile.isLoading,userProfile:e=>e.userProfile.data,error:e=>e.userProfile.error}),...(0,P.Se)({currentUser:G.currentUser}),isCurrentUserProfile(){return!(!this.currentUser||!this.userProfile)&&this.currentUser.username===this.userProfile.username},userProfileSlug(){return this.$route.params.slug},apiUrl(){const e=this.$route.path.includes("favorites");return e?`/articles?favorited=${this.userProfileSlug}`:`/articles?author=${this.userProfileSlug}`},routeName(){return this.$route.name}},watch:{userProfileSlug(){this.getUserProfile()}},mounted(){this.getUserProfile()},methods:{getUserProfile(){this.$store.dispatch(Wa.getUserProfile,{slug:this.userProfileSlug})}}};const Ga=(0,H.Z)(ja,[["render",Ca]]);var Ia=Ga;const Na=[{path:"/register",name:"register",component:kr},{path:"/login",name:"login",component:jr},{path:"/",name:"globalFeed",component:It},{path:"/feed",name:"yourFeed",component:Jt},{path:"/tags/:slug",name:"tag",component:or},{path:"/articles/new",name:"createArticle",component:Gi},{path:"/articles/:slug",name:"article",component:hi},{path:"/articles/:slug/edit",name:"editArticle",component:Ji},{path:"/settings",name:"settings",component:ga},{path:"/profiles/:slug",name:"userProfile",component:Ia},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:Ia}],Za=(0,X.p7)({routes:Na,history:(0,X.PO)()});var za=Za;const Ya={isSubmitting:!1,validationErrors:null},Ha={[V.updateCurrentUserStart](e){e.isSubmitting=!0,e.validationErrors=null},[V.updateCurrentUserSuccess](e){e.isSubmitting=!1},[V.updateCurrentUserFailure](e,t){e.isSubmitting=!1,e.validationErrors=t}};var Ra={state:Ya,mutations:Ha},Ba=(0,P.MT)({state:{},mutations:{},actions:{},modules:{auth:z,feed:Ue,popularTags:ht,article:pi,createArticle:Oi,editArticle:Ri,settings:Ra,addToFavorites:Xe,userProfile:Va}});(0,i.ri)(Q).use(za).use(Ba).mount("#app")}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,i,a,s){if(!i){var o=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],s=e[u][2];for(var l=!0,n=0;n<i.length;n++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](i[n])}))?i.splice(n--,1):(l=!1,s<o&&(o=s));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,a,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,o=i[0],l=i[1],n=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(n)var u=n(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},i=self["webpackChunkmediumclone_vue"]=self["webpackChunkmediumclone_vue"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(3685)}));i=r.O(i)})();
//# sourceMappingURL=app.be3f41cc.js.map